# ОБЗОР ДИЗАЙНА ИНФРАСТРУКТУРЫ APPBASE DCM

Предлагаемая схема инфраструктуры высокого уровня представлена на рисунке ниже.

![High Level Infrastructure](https://github.com/CrappyCodeMaker/ECCENTEX-KNOWLEGE/blob/main/Content/1%20Start%20work/1.2%20AppBase/IMG/HighLevelInfrastructure.png)

### СЕТЕВЫЕ УСТРОЙСТВА

В настройке используются следующие сетевые устройства:
* **Брандмауэр** _(Firewall)_ - установлены резервные активные устройства для прозрачного переключения при отказе.
* **Балансировщики нагрузки** _(Load Balancers)_ - резервные активные устройства, установленные для прозрачного переключения при отказе. Можно использовать как аппаратные, так и программные балансировщики нагрузки, однако рекомендуется использовать аппаратные. Такие функции, как завершение SSL _(SSL termination)_, могут повысить производительность решения.
* **Сетевые коммутаторы** _(Network switches)_ - провайдер инфраструктуры должен обеспечивать достаточную пропускную способность и скорость между компонентами.
* **Глобальный балансировщик нагрузки** _(Global load balancer)_. - в случае аварии можно перенаправить запросы пользователей к месту аварийного восстановления.

### УРОВЕНЬ ПРИЛОЖЕНИЯ ПОРТАЛА DCM

**Приложение портала DCM** - это общедоступное приложение, доступное для внешних пользователей. Это приложение
будет размещен в публичной зоне DMZ.

На данном уровне будут действовать правила брандмауэра для входящего трафика, разрешающие:
* Веб-трафик к приложение портала DCM. Будет использоваться протокол связи **SSL** _(TLS v1.2)_. SSL будет выгружен на балансировщик нагрузки, и простые запросы будут передаваться на соответствующие порты хостов приложению портала DCM.
* Обмен данными с основными приложениями DCM _(через защищенную API интеграцию)_. В этом случае, если потребуется интеграция с устаревшими системами, она также будет выполнена на уровне основного приложения DCM.

Приложение портала DCM не имеет состояния, поэтому его можно эффективно масштабировать по горизонтали, добавляя несколько экземпляров.
приложения в кластер с балансировкой нагрузки.

### УРОВЕНЬ ОСНОВНОГО ПРИЛОЖЕНИЯ DCM

**ОСНОВНОЕ ПРИЛОЖЕНИЕ DCM** - это решение для динамического управления делами, работающее на платформе **AppBase**, доступное для внутренних пользователей. Размещается в защищенной зоне интрасети.

Данный уровень будет иметь правила брандмауэра для входящего трафика, чтобы разрешить:
  * Веб-трафик для основного приложения DCM. Будет использоваться протокол связи **SSL** _(TLS v1.2)_. SSL будет выгружен на балансировщик нагрузки, и простые запросы будут передаваться на соответствующие порты хостов основного приложения **DCM**.
  * Обмен данными с уровнем данных. В этом случае, если потребуется интеграция с устаревшими системами, необходимо включить соответствующие протоколы связи.

Дополнительные сведения см. в разделе [2.3](https://github.com/CrappyCodeMaker/ECCENTEX-KNOWLEGE/blob/main/Content/1%20Start%20work/1.2%20AppBase/2.3%20INSTALLATION%20ARCHITECTURE/InstallationArchitecture.md) посвященном архитектуре приложений DCM.

### УРОВЕНЬ ОБЩЕЙ ИНФРАСТРУКТУРЫ

Данный уровень состоит из инструментов, которые не предназначены для установки AppBase и DCM и используются несколькими решениями в рамках Министерства. Мы предполагаем, что эти компоненты удовлетворяют требованиям к высокой доступности и отказоустойчивости в пределах местоположения сайта, а также приобретаются и устанавливаются Хостом.

* **Active Directory** - для аутентификации Active Directory и единого входа.
* **SMTP-сервер** - SMTP-сервер, необходимый для отправки уведомлений по электронной почте из решения AppBase.
* **Logging System** - система для анализа и хранения файлов логов.
* **Системный мониторинг** _(System Monitoring)_ - система для мониторинга компонентов солюшена DCM _(проверки ОС, ВМ, проверки баз данных, проверки конкретных решений)_

### УРОВЕНЬ ДАННЫХ

Уровень данных состоит из следующих компонентов:
* **Общая система хранения** _(Shared Storage System)_ - отказоустойчивый кластер хранения с высокой доступностью _(в пределах площадки)_. Используется для хранения runtime данных солюшена _(неструктурированных, например, документов, файлов и т.д.)_, конфигурации солюшена и метаданных, логов и т.д.
* **Кластер базы данных** _(Database Cluster)_ - высокодоступный и отказоустойчивый кластер базы данных _(в пределах расположения сайта)_. Кластер базы данных используется для хранения runtime данных солюшена _(структурированных, например, дел, задач, назначений)_, конфигурации солюшена и метаданных. Существует несколько возможных реализаций, включая **Oracle ClusterWare** _(Cold Failover Cluster)_ или **Oracle Real Application Cluster** _(RAC)_.

<br/>

[back to AppBase](https://github.com/CrappyCodeMaker/ECCENTEX-KNOWLEGE/blob/main/Content/1%20Start%20work/1.2%20AppBase/AppBase.md) | [back to topics](https://github.com/CrappyCodeMaker/ECCENTEX-KNOWLEGE/tree/main/Content/0%20Topics/Topics.md)